import{i as El,r as O,o as je,w as J,f as v,g as re,M as Bl,d as xn,a as ke,N as Al,O as Rl,P as Tl,L as ce,b as ue,Q as zt,R as Lt,h,S as pe,T as Ge,U as Fl,V as we,c as fe,W as xe,X as It,Y as pn,Z as nl,l as Ee,_ as qn,$ as Vn,n as _n,a0 as We,a1 as Mn,p as En,s as Ol,B as He,z as de,v as ve,y as ye,t as ft,C as vt,E as ol,I as Tt,a2 as Bn,A as Ce,D as zl,x as An,G as al,H as il}from"./index-BNUwYwPT.js";import{Q as Ae,a as Se,u as Rn,c as Tn,d as Fn,e as On,h as zn,f as Ll,b as Ln}from"./dom-WLNO9E8f.js";import{Q as Pt,v as dt,g as In}from"./QSpinner-BCudlfsT.js";import{q as et,t as Pn,u as Il,v as $n,a as ul,b as Pl,c as $l,w as Hn,e as Hl,f as mt,g as Dl,h as Dn,i as Nn,j as Nl,k as jl,p as rl,r as sl,x as jn,s as Kn,m as Qn,T as Kl,n as Un,Q as cl,o as Wn}from"./QAvatar-Dwtjid20.js";import{R as Zn,u as Yn,a as Xn,Q as Gn}from"./QBtn-DqlJUWlm.js";import{s as Jn,g as eo,b as to,a as lo,h as no,_ as Ql}from"./_plugin-vue_export-helper-CWtPBefb.js";let Vt,it=0;const ie=new Array(256);for(let e=0;e<256;e++)ie[e]=(e+256).toString(16).substring(1);const oo=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let a=t;a>0;a--)n.push(Math.floor(Math.random()*256));return n}})(),dl=4096;function Ft(){(Vt===void 0||it+16>dl)&&(it=0,Vt=oo(dl));const e=Array.prototype.slice.call(Vt,it,it+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,ie[e[0]]+ie[e[1]]+ie[e[2]]+ie[e[3]]+"-"+ie[e[4]]+ie[e[5]]+"-"+ie[e[6]]+ie[e[7]]+"-"+ie[e[8]]+ie[e[9]]+"-"+ie[e[10]]+ie[e[11]]+ie[e[12]]+ie[e[13]]+ie[e[14]]+ie[e[15]]}function ao(e){return e??null}function fl(e,t){return e??(t===!0?`f_${Ft()}`:null)}function io({getValue:e,required:t=!0}={}){if(El.value===!0){const n=e!==void 0?O(ao(e())):O(null);return t===!0&&n.value===null&&je(()=>{n.value=`f_${Ft()}`}),e!==void 0&&J(e,a=>{n.value=fl(a,t)}),n}return e!==void 0?v(()=>fl(e(),t)):O(`f_${Ft()}`)}const vl=/^on[A-Z]/;function uo(){const{attrs:e,vnode:t}=re(),n={listeners:O({}),attributes:O({})};function a(){const s={},i={};for(const c in e)c!=="class"&&c!=="style"&&vl.test(c)===!1&&(s[c]=e[c]);for(const c in t.props)vl.test(c)===!0&&(i[c]=t.props[c]);n.attributes.value=s,n.listeners.value=i}return Bl(a),a(),n}const yt={dark:{type:Boolean,default:null}};function St(e,t){return v(()=>e.dark===null?t.dark.isActive:e.dark)}function ro({validate:e,resetValidation:t,requiresQForm:n}){const a=xn(Al,!1);if(a!==!1){const{props:s,proxy:i}=re();Object.assign(i,{validate:e,resetValidation:t}),J(()=>s.disable,c=>{c===!0?(typeof t=="function"&&t(),a.unbindComponent(i)):a.bindComponent(i)}),je(()=>{s.disable!==!0&&a.bindComponent(i)}),ke(()=>{s.disable!==!0&&a.unbindComponent(i)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const ml=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,gl=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,hl=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,ut=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,rt=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,_t={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>ml.test(e),hexaColor:e=>gl.test(e),hexOrHexaColor:e=>hl.test(e),rgbColor:e=>ut.test(e),rgbaColor:e=>rt.test(e),rgbOrRgbaColor:e=>ut.test(e)||rt.test(e),hexOrRgbColor:e=>ml.test(e)||ut.test(e),hexaOrRgbaColor:e=>gl.test(e)||rt.test(e),anyColor:e=>hl.test(e)||ut.test(e)||rt.test(e)},so=[!0,!1,"ondemand"],co={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>so.includes(e)}};function fo(e,t){const{props:n,proxy:a}=re(),s=O(!1),i=O(null),c=O(!1);ro({validate:H,resetValidation:R});let f=0,w;const x=v(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),d=v(()=>n.disable!==!0&&x.value===!0&&t.value===!1),g=v(()=>n.error===!0||s.value===!0),p=v(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:i.value);J(()=>n.modelValue,()=>{c.value=!0,d.value===!0&&n.lazyRules===!1&&q()});function m(){n.lazyRules!=="ondemand"&&d.value===!0&&c.value===!0&&q()}J(()=>n.reactiveRules,Q=>{Q===!0?w===void 0&&(w=J(()=>n.rules,m,{immediate:!0,deep:!0})):w!==void 0&&(w(),w=void 0)},{immediate:!0}),J(()=>n.lazyRules,m),J(e,Q=>{Q===!0?c.value=!0:d.value===!0&&n.lazyRules!=="ondemand"&&q()});function R(){f++,t.value=!1,c.value=!1,s.value=!1,i.value=null,q.cancel()}function H(Q=n.modelValue){if(n.disable===!0||x.value===!1)return!0;const j=++f,M=t.value!==!0?()=>{c.value=!0}:()=>{},T=(F,$)=>{F===!0&&M(),s.value=F,i.value=$||null,t.value=!1},U=[];for(let F=0;F<n.rules.length;F++){const $=n.rules[F];let Y;if(typeof $=="function"?Y=$(Q,_t):typeof $=="string"&&_t[$]!==void 0&&(Y=_t[$](Q)),Y===!1||typeof Y=="string")return T(!0,Y),!1;Y!==!0&&Y!==void 0&&U.push(Y)}return U.length===0?(T(!1),!0):(t.value=!0,Promise.all(U).then(F=>{if(F===void 0||Array.isArray(F)===!1||F.length===0)return j===f&&T(!1),!0;const $=F.find(Y=>Y===!1||typeof Y=="string");return j===f&&T($!==void 0,$),$===void 0},F=>(j===f&&(console.error(F),T(!0)),!1)))}const q=Rl(H,0);return ke(()=>{w!==void 0&&w(),q.cancel()}),Object.assign(a,{resetValidation:R,validate:H}),Tl(a,"hasError",()=>g.value),{isDirtyModel:c,hasRules:x,hasError:g,errorMessage:p,validate:H,resetValidation:R}}function Je(e){return e!=null&&(""+e).length!==0}const vo={...yt,...co,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},wt={...vo,maxlength:[Number,String]},$t=["update:modelValue","clear","focus","blur"];function Ht({requiredForAttr:e=!0,tagProp:t,changeEvent:n=!1}={}){const{props:a,proxy:s}=re(),i=St(a,s.$q),c=io({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:n,tag:t===!0?v(()=>a.tag):{value:"label"},isDark:i,editable:v(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:O(!1),focused:O(!1),hasPopupOpen:!1,splitAttrs:uo(),targetUid:c,rootRef:O(null),targetRef:O(null),controlRef:O(null)}}function Dt(e){const{props:t,emit:n,slots:a,attrs:s,proxy:i}=re(),{$q:c}=i;let f=null;e.hasValue===void 0&&(e.hasValue=v(()=>Je(t.modelValue))),e.emitValue===void 0&&(e.emitValue=C=>{n("update:modelValue",C)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:y,onFocusout:b}),Object.assign(e,{clearValue:B,onControlFocusin:y,onControlFocusout:b,focus:$}),e.computedCounter===void 0&&(e.computedCounter=v(()=>{if(t.counter!==!1){const C=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,L=t.maxlength!==void 0?t.maxlength:t.maxValues;return C+(L!==void 0?" / "+L:"")}}));const{isDirtyModel:w,hasRules:x,hasError:d,errorMessage:g,resetValidation:p}=fo(e.focused,e.innerLoading),m=e.floatingLabel!==void 0?v(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):v(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),R=v(()=>t.bottomSlots===!0||t.hint!==void 0||x.value===!0||t.counter===!0||t.error!==null),H=v(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),q=v(()=>`q-field row no-wrap items-start q-field--${H.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(m.value===!0?" q-field--float":"")+(j.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(d.value===!0?" q-field--error":"")+(d.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&R.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),Q=v(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(d.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),j=v(()=>t.labelSlot===!0||t.label!==void 0),M=v(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&d.value!==!0?` text-${t.labelColor}`:"")),T=v(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:m.value,modelValue:t.modelValue,emitValue:e.emitValue})),U=v(()=>{const C={};return e.targetUid.value&&(C.for=e.targetUid.value),t.disable===!0&&(C["aria-disabled"]="true"),C});function F(){const C=document.activeElement;let L=e.targetRef!==void 0&&e.targetRef.value;L&&(C===null||C.id!==e.targetUid.value)&&(L.hasAttribute("tabindex")===!0||(L=L.querySelector("[tabindex]")),L&&L!==C&&L.focus({preventScroll:!0}))}function $(){et(F)}function Y(){Pn(F);const C=document.activeElement;C!==null&&e.rootRef.value.contains(C)&&C.blur()}function y(C){f!==null&&(clearTimeout(f),f=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",C))}function b(C,L){f!==null&&clearTimeout(f),f=setTimeout(()=>{f=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",C)),L!==void 0&&L())})}function B(C){ce(C),c.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),e.changeEvent===!0&&n("change",null),n("clear",t.modelValue),ue(()=>{const L=w.value;p(),w.value=L})}function r(C){[13,32].includes(C.keyCode)&&B(C)}function z(){const C=[];return a.prepend!==void 0&&C.push(h("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:pe},a.prepend())),C.push(h("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},I())),d.value===!0&&t.noErrorIcon===!1&&C.push(P("error",[h(Ae,{name:c.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?C.push(P("inner-loading-append",a.loading!==void 0?a.loading():[h(Pt,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&C.push(P("inner-clearable-append",[h(Ae,{class:"q-field__focusable-action",name:t.clearIcon||c.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":c.lang.label.clear,onKeyup:r,onClick:B})])),a.append!==void 0&&C.push(h("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:pe},a.append())),e.getInnerAppend!==void 0&&C.push(P("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&C.push(e.getControlChild()),C}function I(){const C=[];return t.prefix!==void 0&&t.prefix!==null&&C.push(h("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&C.push(e.getShadowControl()),e.getControl!==void 0?C.push(e.getControl()):a.rawControl!==void 0?C.push(a.rawControl()):a.control!==void 0&&C.push(h("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(T.value))),j.value===!0&&C.push(h("div",{class:M.value},Se(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&C.push(h("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),C.concat(Se(a.default))}function X(){let C,L;d.value===!0?g.value!==null?(C=[h("div",{role:"alert"},g.value)],L=`q--slot-error-${g.value}`):(C=Se(a.error),L="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(C=[h("div",t.hint)],L=`q--slot-hint-${t.hint}`):(C=Se(a.hint),L="q--slot-hint"));const K=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&K===!1&&C===void 0)return;const u=h("div",{key:L,class:"q-field__messages col"},C);return h("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:pe},[t.hideBottomSpace===!0?u:h(Ge,{name:"q-transition--field-message"},()=>u),K===!0?h("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function P(C,L){return L===null?null:h("div",{key:C,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},L)}let D=!1;return zt(()=>{D=!0}),Lt(()=>{D===!0&&t.autofocus===!0&&i.focus()}),t.autofocus===!0&&je(()=>{i.focus()}),ke(()=>{f!==null&&clearTimeout(f)}),Object.assign(i,{focus:$,blur:Y}),function(){const L=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...U.value}:U.value;return h(e.tag.value,{ref:e.rootRef,class:[q.value,s.class],style:s.style,...L},[a.before!==void 0?h("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:pe},a.before()):null,h("div",{class:"q-field__inner relative-position col self-stretch"},[h("div",{ref:e.controlRef,class:Q.value,tabindex:-1,...e.controlEvents},z()),R.value===!0?X():null]),a.after!==void 0?h("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:pe},a.after()):null])}}const bl={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},gt={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Ul=Object.keys(gt);Ul.forEach(e=>{gt[e].regex=new RegExp(gt[e].pattern)});const mo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Ul.join("")+"])|(.)","g"),yl=/[.*+?^${}()|[\]\\]/g,oe="",go={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function ho(e,t,n,a){let s,i,c,f,w,x;const d=O(null),g=O(m());function p(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}J(()=>e.type+e.autogrow,H),J(()=>e.mask,y=>{if(y!==void 0)q(g.value,!0);else{const b=$(g.value);H(),e.modelValue!==b&&t("update:modelValue",b)}}),J(()=>e.fillMask+e.reverseFillMask,()=>{d.value===!0&&q(g.value,!0)}),J(()=>e.unmaskedValue,()=>{d.value===!0&&q(g.value)});function m(){if(H(),d.value===!0){const y=U($(e.modelValue));return e.fillMask!==!1?Y(y):y}return e.modelValue}function R(y){if(y<s.length)return s.slice(-y);let b="",B=s;const r=B.indexOf(oe);if(r!==-1){for(let z=y-B.length;z>0;z--)b+=oe;B=B.slice(0,r)+b+B.slice(r)}return B}function H(){if(d.value=e.mask!==void 0&&e.mask.length!==0&&p(),d.value===!1){f=void 0,s="",i="";return}const y=bl[e.mask]===void 0?e.mask:bl[e.mask],b=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",B=b.replace(yl,"\\$&"),r=[],z=[],I=[];let X=e.reverseFillMask===!0,P="",D="";y.replace(mo,(u,o,A,N,Z)=>{if(N!==void 0){const S=gt[N];I.push(S),D=S.negate,X===!0&&(z.push("(?:"+D+"+)?("+S.pattern+"+)?(?:"+D+"+)?("+S.pattern+"+)?"),X=!1),z.push("(?:"+D+"+)?("+S.pattern+")?")}else if(A!==void 0)P="\\"+(A==="\\"?"":A),I.push(A),r.push("([^"+P+"]+)?"+P+"?");else{const S=o!==void 0?o:Z;P=S==="\\"?"\\\\\\\\":S.replace(yl,"\\\\$&"),I.push(S),r.push("([^"+P+"]+)?"+P+"?")}});const C=new RegExp("^"+r.join("")+"("+(P===""?".":"[^"+P+"]")+"+)?"+(P===""?"":"["+P+"]*")+"$"),L=z.length-1,K=z.map((u,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+B+"*"+u):o===L?new RegExp("^"+u+"("+(D===""?".":D)+"+)?"+(e.reverseFillMask===!0?"$":B+"*")):new RegExp("^"+u));c=I,f=u=>{const o=C.exec(e.reverseFillMask===!0?u:u.slice(0,I.length+1));o!==null&&(u=o.slice(1).join(""));const A=[],N=K.length;for(let Z=0,S=u;Z<N;Z++){const E=K[Z].exec(S);if(E===null)break;S=S.slice(E.shift().length),A.push(...E)}return A.length!==0?A.join(""):u},s=I.map(u=>typeof u=="string"?u:oe).join(""),i=s.split(oe).join(b)}function q(y,b,B){const r=a.value,z=r.selectionEnd,I=r.value.length-z,X=$(y);b===!0&&H();const P=U(X),D=e.fillMask!==!1?Y(P):P,C=g.value!==D;r.value!==D&&(r.value=D),C===!0&&(g.value=D),document.activeElement===r&&ue(()=>{if(D===i){const K=e.reverseFillMask===!0?i.length:0;r.setSelectionRange(K,K,"forward");return}if(B==="insertFromPaste"&&e.reverseFillMask!==!0){const K=r.selectionEnd;let u=z-1;for(let o=w;o<=u&&o<K;o++)s[o]!==oe&&u++;j.right(r,u);return}if(["deleteContentBackward","deleteContentForward"].indexOf(B)!==-1){const K=e.reverseFillMask===!0?z===0?D.length>P.length?1:0:Math.max(0,D.length-(D===i?0:Math.min(P.length,I)+1))+1:z;r.setSelectionRange(K,K,"forward");return}if(e.reverseFillMask===!0)if(C===!0){const K=Math.max(0,D.length-(D===i?0:Math.min(P.length,I+1)));K===1&&z===1?r.setSelectionRange(K,K,"forward"):j.rightReverse(r,K)}else{const K=D.length-I;r.setSelectionRange(K,K,"backward")}else if(C===!0){const K=Math.max(0,s.indexOf(oe),Math.min(P.length,z)-1);j.right(r,K)}else{const K=z-1;j.right(r,K)}});const L=e.unmaskedValue===!0?$(D):D;String(e.modelValue)!==L&&(e.modelValue!==null||L!=="")&&n(L,!0)}function Q(y,b,B){const r=U($(y.value));b=Math.max(0,s.indexOf(oe),Math.min(r.length,b)),w=b,y.setSelectionRange(b,B,"forward")}const j={left(y,b){const B=s.slice(b-1).indexOf(oe)===-1;let r=Math.max(0,b-1);for(;r>=0;r--)if(s[r]===oe){b=r,B===!0&&b++;break}if(r<0&&s[b]!==void 0&&s[b]!==oe)return j.right(y,0);b>=0&&y.setSelectionRange(b,b,"backward")},right(y,b){const B=y.value.length;let r=Math.min(B,b+1);for(;r<=B;r++)if(s[r]===oe){b=r;break}else s[r-1]===oe&&(b=r);if(r>B&&s[b-1]!==void 0&&s[b-1]!==oe)return j.left(y,B);y.setSelectionRange(b,b,"forward")},leftReverse(y,b){const B=R(y.value.length);let r=Math.max(0,b-1);for(;r>=0;r--)if(B[r-1]===oe){b=r;break}else if(B[r]===oe&&(b=r,r===0))break;if(r<0&&B[b]!==void 0&&B[b]!==oe)return j.rightReverse(y,0);b>=0&&y.setSelectionRange(b,b,"backward")},rightReverse(y,b){const B=y.value.length,r=R(B),z=r.slice(0,b+1).indexOf(oe)===-1;let I=Math.min(B,b+1);for(;I<=B;I++)if(r[I-1]===oe){b=I,b>0&&z===!0&&b--;break}if(I>B&&r[b-1]!==void 0&&r[b-1]!==oe)return j.leftReverse(y,B);y.setSelectionRange(b,b,"forward")}};function M(y){t("click",y),x=void 0}function T(y){if(t("keydown",y),Fl(y)===!0||y.altKey===!0)return;const b=a.value,B=b.selectionStart,r=b.selectionEnd;if(y.shiftKey||(x=void 0),y.keyCode===37||y.keyCode===39){y.shiftKey&&x===void 0&&(x=b.selectionDirection==="forward"?B:r);const z=j[(y.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(y.preventDefault(),z(b,x===B?r:B),y.shiftKey){const I=b.selectionStart;b.setSelectionRange(Math.min(x,I),Math.max(x,I),"forward")}}else y.keyCode===8&&e.reverseFillMask!==!0&&B===r?(j.left(b,B),b.setSelectionRange(b.selectionStart,r,"backward")):y.keyCode===46&&e.reverseFillMask===!0&&B===r&&(j.rightReverse(b,r),b.setSelectionRange(B,b.selectionEnd,"forward"))}function U(y){if(y==null||y==="")return"";if(e.reverseFillMask===!0)return F(y);const b=c;let B=0,r="";for(let z=0;z<b.length;z++){const I=y[B],X=b[z];if(typeof X=="string")r+=X,I===X&&B++;else if(I!==void 0&&X.regex.test(I))r+=X.transform!==void 0?X.transform(I):I,B++;else return r}return r}function F(y){const b=c,B=s.indexOf(oe);let r=y.length-1,z="";for(let I=b.length-1;I>=0&&r!==-1;I--){const X=b[I];let P=y[r];if(typeof X=="string")z=X+z,P===X&&r--;else if(P!==void 0&&X.regex.test(P))do z=(X.transform!==void 0?X.transform(P):P)+z,r--,P=y[r];while(B===I&&P!==void 0&&X.regex.test(P));else return z}return z}function $(y){return typeof y!="string"||f===void 0?typeof y=="number"?f(""+y):y:f(y)}function Y(y){return i.length-y.length<=0?y:e.reverseFillMask===!0&&y.length!==0?i.slice(0,-y.length)+y:y+i.slice(y.length)}return{innerValue:g,hasMask:d,moveCursorForPaste:Q,updateMaskValue:q,onMaskedKeydown:T,onMaskedClick:M}}const Wl={name:String};function Zl(e){return v(()=>e.name||e.for)}function bo(e,t){function n(){const a=e.modelValue;try{const s="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(i=>{s.items.add(i)}),{files:s.files}}catch{return{files:void 0}}}return v(()=>{if(e.type==="file")return n()})}const yo=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,So=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,wo=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,ko=/[a-z0-9_ -]$/i;function Yl(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(we.is.firefox===!0?ko.test(n.data)===!1:yo.test(n.data)===!0||So.test(n.data)===!0||wo.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Co=fe({name:"QInput",inheritAttrs:!1,props:{...wt,...go,...Wl,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...$t,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:a}=re(),{$q:s}=a,i={};let c=NaN,f,w,x=null,d;const g=O(null),p=Zl(e),{innerValue:m,hasMask:R,moveCursorForPaste:H,updateMaskValue:q,onMaskedKeydown:Q,onMaskedClick:j}=ho(e,t,P,g),M=bo(e),T=v(()=>Je(m.value)),U=Yl(I),F=Ht({changeEvent:!0}),$=v(()=>e.type==="textarea"||e.autogrow===!0),Y=v(()=>$.value===!0||["text","search","url","tel","password"].includes(e.type)),y=v(()=>{const o={...F.splitAttrs.listeners.value,onInput:I,onPaste:z,onChange:C,onBlur:L,onFocus:xe};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=U,R.value===!0&&(o.onKeydown=Q,o.onClick=j),e.autogrow===!0&&(o.onAnimationend=X),o}),b=v(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:p.value,...F.splitAttrs.attributes.value,id:F.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return $.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});J(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),J(()=>e.modelValue,o=>{if(R.value===!0){if(w===!0&&(w=!1,String(o)===c))return;q(o)}else m.value!==o&&(m.value=o,e.type==="number"&&i.hasOwnProperty("value")===!0&&(f===!0?f=!1:delete i.value));e.autogrow===!0&&ue(D)}),J(()=>e.autogrow,o=>{o===!0?ue(D):g.value!==null&&n.rows>0&&(g.value.style.height="auto")}),J(()=>e.dense,()=>{e.autogrow===!0&&ue(D)});function B(){et(()=>{const o=document.activeElement;g.value!==null&&g.value!==o&&(o===null||o.id!==F.targetUid.value)&&g.value.focus({preventScroll:!0})})}function r(){g.value!==null&&g.value.select()}function z(o){if(R.value===!0&&e.reverseFillMask!==!0){const A=o.target;H(A,A.selectionStart,A.selectionEnd)}t("paste",o)}function I(o){if(!o||!o.target)return;if(e.type==="file"){t("update:modelValue",o.target.files);return}const A=o.target.value;if(o.target.qComposing===!0){i.value=A;return}if(R.value===!0)q(A,!1,o.inputType);else if(P(A),Y.value===!0&&o.target===document.activeElement){const{selectionStart:N,selectionEnd:Z}=o.target;N!==void 0&&Z!==void 0&&ue(()=>{o.target===document.activeElement&&A.indexOf(o.target.value)===0&&o.target.setSelectionRange(N,Z)})}e.autogrow===!0&&D()}function X(o){t("animationend",o),D()}function P(o,A){d=()=>{x=null,e.type!=="number"&&i.hasOwnProperty("value")===!0&&delete i.value,e.modelValue!==o&&c!==o&&(c=o,A===!0&&(w=!0),t("update:modelValue",o),ue(()=>{c===o&&(c=NaN)})),d=void 0},e.type==="number"&&(f=!0,i.value=o),e.debounce!==void 0?(x!==null&&clearTimeout(x),i.value=o,x=setTimeout(d,e.debounce)):d()}function D(){requestAnimationFrame(()=>{const o=g.value;if(o!==null){const A=o.parentNode.style,{scrollTop:N}=o,{overflowY:Z,maxHeight:S}=s.platform.is.firefox===!0?{}:window.getComputedStyle(o),E=Z!==void 0&&Z!=="scroll";E===!0&&(o.style.overflowY="hidden"),A.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",E===!0&&(o.style.overflowY=parseInt(S,10)<o.scrollHeight?"auto":"hidden"),A.marginBottom="",o.scrollTop=N}})}function C(o){U(o),x!==null&&(clearTimeout(x),x=null),d!==void 0&&d(),t("change",o.target.value)}function L(o){o!==void 0&&xe(o),x!==null&&(clearTimeout(x),x=null),d!==void 0&&d(),f=!1,w=!1,delete i.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=m.value!==void 0?m.value:"")})}function K(){return i.hasOwnProperty("value")===!0?i.value:m.value!==void 0?m.value:""}ke(()=>{L()}),je(()=>{e.autogrow===!0&&D()}),Object.assign(F,{innerValue:m,fieldClass:v(()=>`q-${$.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:v(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:P,hasValue:T,floatingLabel:v(()=>T.value===!0&&(e.type!=="number"||isNaN(m.value)===!1)||Je(e.displayValue)),getControl:()=>h($.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...b.value,...y.value,...e.type!=="file"?{value:K()}:M.value}),getShadowControl:()=>h("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+($.value===!0?"":" text-no-wrap")},[h("span",{class:"invisible"},K()),h("span",e.shadowText)])});const u=Dt(F);return Object.assign(a,{focus:B,select:r,getNativeElement:()=>g.value}),Tl(a,"nativeEl",()=>g.value),u}}),xo=fe({name:"QField",inheritAttrs:!1,props:{...wt,tag:{type:String,default:"label"}},emits:$t,setup(){return Dt(Ht({tagProp:!0}))}}),po={xs:8,sm:10,md:14,lg:20,xl:24},Xl=fe({name:"QChip",props:{...yt,...Rn,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=re(),s=St(e,a),i=Tn(e,po),c=v(()=>e.selected===!0||e.icon!==void 0),f=v(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),w=v(()=>e.iconRemove||a.iconSet.chip.remove),x=v(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=v(()=>{const q=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(q?` text-${q} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(x.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(s.value===!0?" q-chip--dark q-dark":"")}),g=v(()=>{const q=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},Q={...q,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:q,remove:Q}});function p(q){q.keyCode===13&&m(q)}function m(q){e.disable||(n("update:selected",!e.selected),n("click",q))}function R(q){(q.keyCode===void 0||q.keyCode===13)&&(ce(q),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function H(){const q=[];x.value===!0&&q.push(h("div",{class:"q-focus-helper"})),c.value===!0&&q.push(h(Ae,{class:"q-chip__icon q-chip__icon--left",name:f.value}));const Q=e.label!==void 0?[h("div",{class:"ellipsis"},[e.label])]:void 0;return q.push(h("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},On(t.default,Q))),e.iconRight&&q.push(h(Ae,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&q.push(h(Ae,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:w.value,...g.value.remove,onClick:R,onKeyup:R})),q}return()=>{if(e.modelValue===!1)return;const q={class:d.value,style:i.value};return x.value===!0&&Object.assign(q,g.value.chip,{onClick:m,onKeyup:p}),Fn("div",q,H(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[Zn,e.ripple]])}}}),Gl=fe({name:"QItem",props:{...yt,...Yn,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=re(),s=St(e,a),{hasLink:i,linkAttrs:c,linkClass:f,linkTag:w,navigateOnClick:x}=Xn(),d=O(null),g=O(null),p=v(()=>e.clickable===!0||i.value===!0||e.tag==="label"),m=v(()=>e.disable!==!0&&p.value===!0),R=v(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(s.value===!0?" q-item--dark":"")+(i.value===!0&&e.active===null?f.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(m.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),H=v(()=>e.insetLevel===void 0?null:{["padding"+(a.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function q(M){m.value===!0&&(g.value!==null&&(M.qKeyEvent!==!0&&document.activeElement===d.value?g.value.focus():document.activeElement===g.value&&d.value.focus()),x(M))}function Q(M){if(m.value===!0&&It(M,[13,32])===!0){ce(M),M.qKeyEvent=!0;const T=new MouseEvent("click",M);T.qKeyEvent=!0,d.value.dispatchEvent(T)}n("keyup",M)}function j(){const M=zn(t.default,[]);return m.value===!0&&M.unshift(h("div",{class:"q-focus-helper",tabindex:-1,ref:g})),M}return()=>{const M={ref:d,class:R.value,style:H.value,role:"listitem",onClick:q,onKeyup:Q};return m.value===!0?(M.tabindex=e.tabindex||"0",Object.assign(M,c.value)):p.value===!0&&(M["aria-disabled"]="true"),h(w.value,M,j())}}}),qo=fe({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=v(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>h("div",{class:n.value},Se(t.default))}}),Jl=fe({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=v(()=>parseInt(e.lines,10)),a=v(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),s=v(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>h("div",{style:s.value,class:a.value},Se(t.default))}}),Re=[];let Ne;function Vo(e){Ne=e.keyCode===27}function _o(){Ne===!0&&(Ne=!1)}function Mo(e){Ne===!0&&(Ne=!1,It(e,27)===!0&&Re[Re.length-1](e))}function en(e){window[e]("keydown",Vo),window[e]("blur",_o),window[e]("keyup",Mo),Ne=!1}function tn(e){we.is.desktop===!0&&(Re.push(e),Re.length===1&&en("addEventListener"))}function ht(e){const t=Re.indexOf(e);t!==-1&&(Re.splice(t,1),Re.length===0&&en("removeEventListener"))}const Te=[];function ln(e){Te[Te.length-1](e)}function nn(e){we.is.desktop===!0&&(Te.push(e),Te.length===1&&document.body.addEventListener("focusin",ln))}function Ot(e){const t=Te.indexOf(e);t!==-1&&(Te.splice(t,1),Te.length===0&&document.body.removeEventListener("focusin",ln))}const Eo=fe({name:"QMenu",inheritAttrs:!1,props:{...Hn,...$l,...yt,...Pl,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:ul},self:{type:String,validator:ul},offset:{type:Array,validator:$n},scrollTarget:Jn,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Il,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:a}){let s=null,i,c,f;const w=re(),{proxy:x}=w,{$q:d}=x,g=O(null),p=O(!1),m=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),R=St(e,d),{registerTick:H,removeTick:q}=Hl(),{registerTimeout:Q}=mt(),{transitionProps:j,transitionStyle:M}=Dl(e),{localScrollTarget:T,changeScrollEvent:U,unconfigureScrollTarget:F}=Dn(e,A),{anchorEl:$,canShow:Y}=Nn({showing:p}),{hide:y}=Nl({showing:p,canShow:Y,handleShow:K,handleHide:u,hideOnRouteChange:m,processOnMount:!0}),{showPortal:b,hidePortal:B,renderPortal:r}=jl(w,g,G,"menu"),z={anchorEl:$,innerRef:g,onClickOutside(k){if(e.persistent!==!0&&p.value===!0)return y(k),(k.type==="touchstart"||k.target.classList.contains("q-dialog__backdrop"))&&ce(k),!0}},I=v(()=>rl(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),X=v(()=>e.cover===!0?I.value:rl(e.self||"top start",d.lang.rtl)),P=v(()=>(e.square===!0?" q-menu--square":"")+(R.value===!0?" q-menu--dark q-dark":"")),D=v(()=>e.autoClose===!0?{onClick:N}:{}),C=v(()=>p.value===!0&&e.persistent!==!0);J(C,k=>{k===!0?(tn(S),Qn(z)):(ht(S),sl(z))});function L(){et(()=>{let k=g.value;k&&k.contains(document.activeElement)!==!0&&(k=k.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||k.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||k.querySelector("[autofocus], [data-autofocus]")||k,k.focus({preventScroll:!0}))})}function K(k){if(s=e.noRefocus===!1?document.activeElement:null,nn(Z),b(),A(),i=void 0,k!==void 0&&(e.touchPosition||e.contextMenu)){const le=pn(k);if(le.left!==void 0){const{top:ge,left:Fe}=$.value.getBoundingClientRect();i={left:le.left-Fe,top:le.top-ge}}}c===void 0&&(c=J(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,E)),e.noFocus!==!0&&document.activeElement.blur(),H(()=>{E(),e.noFocus!==!0&&L()}),Q(()=>{d.platform.is.ios===!0&&(f=e.autoClose,g.value.click()),E(),b(!0),n("show",k)},e.transitionDuration)}function u(k){q(),B(),o(!0),s!==null&&(k===void 0||k.qClickOutside!==!0)&&(((k&&k.type.indexOf("key")===0?s.closest('[tabindex]:not([tabindex^="-"])'):void 0)||s).focus(),s=null),Q(()=>{B(!0),n("hide",k)},e.transitionDuration)}function o(k){i=void 0,c!==void 0&&(c(),c=void 0),(k===!0||p.value===!0)&&(Ot(Z),F(),sl(z),ht(S)),k!==!0&&(s=null)}function A(){($.value!==null||e.scrollTarget!==void 0)&&(T.value=eo($.value,e.scrollTarget),U(T.value,E))}function N(k){f!==!0?(jn(x,k),n("click",k)):f=!1}function Z(k){C.value===!0&&e.noFocus!==!0&&Ll(g.value,k.target)!==!0&&L()}function S(k){n("escapeKey"),y(k)}function E(){Kn({targetEl:g.value,offset:e.offset,anchorEl:$.value,anchorOrigin:I.value,selfOrigin:X.value,absoluteOffset:i,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function G(){return h(Ge,j.value,()=>p.value===!0?h("div",{role:"menu",...a,ref:g,tabindex:-1,class:["q-menu q-position-engine scroll"+P.value,a.class],style:[a.style,M.value],...D.value},Se(t.default)):null)}return ke(o),Object.assign(x,{focus:L,updatePosition:E}),r}});function Bo(e,t,n){let a;function s(){a!==void 0&&(nl.remove(a),a=void 0)}return ke(()=>{e.value===!0&&s()}),{removeFromHistory:s,addToHistory(){a={condition:()=>n.value===!0,handler:t},nl.add(a)}}}let Ze=0,Mt,Et,Xe,Bt=!1,Sl,wl,kl,Be=null;function Ao(e){Ro(e)&&ce(e)}function Ro(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=qn(e),n=e.shiftKey&&!e.deltaX,a=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),s=n||a?e.deltaY:e.deltaX;for(let i=0;i<t.length;i++){const c=t[i];if(no(c,a))return a?s<0&&c.scrollTop===0?!0:s>0&&c.scrollTop+c.clientHeight===c.scrollHeight:s<0&&c.scrollLeft===0?!0:s>0&&c.scrollLeft+c.clientWidth===c.scrollWidth}return!0}function Cl(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function st(e){Bt!==!0&&(Bt=!0,requestAnimationFrame(()=>{Bt=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:a}=document.scrollingElement;(Xe===void 0||t!==window.innerHeight)&&(Xe=n-t,document.scrollingElement.scrollTop=a),a>Xe&&(document.scrollingElement.scrollTop-=Math.ceil((a-Xe)/8))}))}function xl(e){const t=document.body,n=window.visualViewport!==void 0;if(e==="add"){const{overflowY:a,overflowX:s}=window.getComputedStyle(t);Mt=to(window),Et=lo(window),Sl=t.style.left,wl=t.style.top,kl=window.location.href,t.style.left=`-${Mt}px`,t.style.top=`-${Et}px`,s!=="hidden"&&(s==="scroll"||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),a!=="hidden"&&(a==="scroll"||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,we.is.ios===!0&&(n===!0?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",st,Ee.passiveCapture),window.visualViewport.addEventListener("scroll",st,Ee.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",Cl,Ee.passiveCapture))}we.is.desktop===!0&&we.is.mac===!0&&window[`${e}EventListener`]("wheel",Ao,Ee.notPassive),e==="remove"&&(we.is.ios===!0&&(n===!0?(window.visualViewport.removeEventListener("resize",st,Ee.passiveCapture),window.visualViewport.removeEventListener("scroll",st,Ee.passiveCapture)):window.removeEventListener("scroll",Cl,Ee.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=Sl,t.style.top=wl,window.location.href===kl&&window.scrollTo(Mt,Et),Xe=void 0)}function To(e){let t="add";if(e===!0){if(Ze++,Be!==null){clearTimeout(Be),Be=null;return}if(Ze>1)return}else{if(Ze===0||(Ze--,Ze>0))return;if(t="remove",we.is.ios===!0&&we.is.nativeMobile===!0){Be!==null&&clearTimeout(Be),Be=setTimeout(()=>{xl(t),Be=null},100);return}}xl(t)}function Fo(){let e;return{preventBodyScroll(t){t!==e&&(e!==void 0||t===!0)&&(e=t,To(t))}}}let ct=0;const Oo={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},pl={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},zo=fe({name:"QDialog",inheritAttrs:!1,props:{...$l,...Pl,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,backdropFilter:String,position:{type:String,default:"standard",validator:e=>["standard","top","bottom","left","right"].includes(e)}},emits:[...Il,"shake","click","escapeKey"],setup(e,{slots:t,emit:n,attrs:a}){const s=re(),i=O(null),c=O(!1),f=O(!1);let w=null,x=null,d,g;const p=v(()=>e.persistent!==!0&&e.noRouteDismiss!==!0&&e.seamless!==!0),{preventBodyScroll:m}=Fo(),{registerTimeout:R}=mt(),{registerTick:H,removeTick:q}=Hl(),{transitionProps:Q,transitionStyle:j}=Dl(e,()=>pl[e.position][0],()=>pl[e.position][1]),M=v(()=>j.value+(e.backdropFilter!==void 0?`;backdrop-filter:${e.backdropFilter};-webkit-backdrop-filter:${e.backdropFilter}`:"")),{showPortal:T,hidePortal:U,portalIsAccessible:F,renderPortal:$}=jl(s,i,Z,"dialog"),{hide:Y}=Nl({showing:c,hideOnRouteChange:p,handleShow:X,handleHide:P,processOnMount:!0}),{addToHistory:y,removeFromHistory:b}=Bo(c,Y,p),B=v(()=>`q-dialog__inner flex no-pointer-events q-dialog__inner--${e.maximized===!0?"maximized":"minimized"} q-dialog__inner--${e.position} ${Oo[e.position]}`+(f.value===!0?" q-dialog__inner--animating":"")+(e.fullWidth===!0?" q-dialog__inner--fullwidth":"")+(e.fullHeight===!0?" q-dialog__inner--fullheight":"")+(e.square===!0?" q-dialog__inner--square":"")),r=v(()=>c.value===!0&&e.seamless!==!0),z=v(()=>e.autoClose===!0?{onClick:o}:{}),I=v(()=>[`q-dialog fullscreen no-pointer-events q-dialog--${r.value===!0?"modal":"seamless"}`,a.class]);J(()=>e.maximized,S=>{c.value===!0&&u(S)}),J(r,S=>{m(S),S===!0?(nn(N),tn(L)):(Ot(N),ht(L))});function X(S){y(),x=e.noRefocus===!1&&document.activeElement!==null?document.activeElement:null,u(e.maximized),T(),f.value=!0,e.noFocus!==!0?(document.activeElement!==null&&document.activeElement.blur(),H(D)):q(),R(()=>{if(s.proxy.$q.platform.is.ios===!0){if(e.seamless!==!0&&document.activeElement){const{top:E,bottom:G}=document.activeElement.getBoundingClientRect(),{innerHeight:k}=window,le=window.visualViewport!==void 0?window.visualViewport.height:k;E>0&&G>le/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-le,G>=k?1/0:Math.ceil(document.scrollingElement.scrollTop+G-le/2))),document.activeElement.scrollIntoView()}g=!0,i.value.click(),g=!1}T(!0),f.value=!1,n("show",S)},e.transitionDuration)}function P(S){q(),b(),K(!0),f.value=!0,U(),x!==null&&(((S&&S.type.indexOf("key")===0?x.closest('[tabindex]:not([tabindex^="-"])'):void 0)||x).focus(),x=null),R(()=>{U(!0),f.value=!1,n("hide",S)},e.transitionDuration)}function D(S){et(()=>{let E=i.value;if(E!==null){if(S!==void 0){const G=E.querySelector(S);if(G!==null){G.focus({preventScroll:!0});return}}E.contains(document.activeElement)!==!0&&(E=E.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||E.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||E.querySelector("[autofocus], [data-autofocus]")||E,E.focus({preventScroll:!0}))}})}function C(S){S&&typeof S.focus=="function"?S.focus({preventScroll:!0}):D(),n("shake");const E=i.value;E!==null&&(E.classList.remove("q-animate--scale"),E.classList.add("q-animate--scale"),w!==null&&clearTimeout(w),w=setTimeout(()=>{w=null,i.value!==null&&(E.classList.remove("q-animate--scale"),D())},170))}function L(){e.seamless!==!0&&(e.persistent===!0||e.noEscDismiss===!0?e.maximized!==!0&&e.noShake!==!0&&C():(n("escapeKey"),Y()))}function K(S){w!==null&&(clearTimeout(w),w=null),(S===!0||c.value===!0)&&(u(!1),e.seamless!==!0&&(m(!1),Ot(N),ht(L))),S!==!0&&(x=null)}function u(S){S===!0?d!==!0&&(ct<1&&document.body.classList.add("q-body--dialog"),ct++,d=!0):d===!0&&(ct<2&&document.body.classList.remove("q-body--dialog"),ct--,d=!1)}function o(S){g!==!0&&(Y(S),n("click",S))}function A(S){e.persistent!==!0&&e.noBackdropDismiss!==!0?Y(S):e.noShake!==!0&&C()}function N(S){e.allowFocusOutside!==!0&&F.value===!0&&Ll(i.value,S.target)!==!0&&D('[tabindex]:not([tabindex="-1"])')}Object.assign(s.proxy,{focus:D,shake:C,__updateRefocusTarget(S){x=S||null}}),ke(K);function Z(){return h("div",{role:"dialog","aria-modal":r.value===!0?"true":"false",...a,class:I.value},[h(Ge,{name:"q-transition--fade",appear:!0},()=>r.value===!0?h("div",{class:"q-dialog__backdrop fixed-full",style:M.value,"aria-hidden":"true",tabindex:-1,onClick:A}):null),h(Ge,Q.value,()=>c.value===!0?h("div",{ref:i,class:B.value,style:j.value,tabindex:-1,...z.value},Se(t.default)):null)])}return $}});let bt=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,bt=e.scrollLeft>=0,e.remove()}const me=1e3,Lo=["start","center","end","start-force","center-force","end-force"],on=Array.prototype.filter,Io=window.getComputedStyle(document.body).overflowAnchor===void 0?_n:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];on.call(n,s=>s.dataset&&s.dataset.qVsAnchor!==void 0).forEach(s=>{delete s.dataset.qVsAnchor});const a=n[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function De(e,t){return e+t}function At(e,t,n,a,s,i,c,f){const w=e===window?document.scrollingElement||document.documentElement:e,x=s===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-c-f,scrollMaxSize:0,offsetStart:-c,offsetEnd:-f};if(s===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=w.scrollLeft,d.scrollViewSize+=w.clientWidth),d.scrollMaxSize=w.scrollWidth,i===!0&&(d.scrollStart=(bt===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=w.scrollTop,d.scrollViewSize+=w.clientHeight),d.scrollMaxSize=w.scrollHeight),n!==null)for(let g=n.previousElementSibling;g!==null;g=g.previousElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=g[x]);if(a!==null)for(let g=a.nextElementSibling;g!==null;g=g.nextElementSibling)g.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=g[x]);if(t!==e){const g=w.getBoundingClientRect(),p=t.getBoundingClientRect();s===!0?(d.offsetStart+=p.left-g.left,d.offsetEnd-=p.width):(d.offsetStart+=p.top-g.top,d.offsetEnd-=p.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function ql(e,t,n,a){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(t=(bt===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(a===!0&&(t=(bt===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Ye(e,t,n,a){if(n>=a)return 0;const s=t.length,i=Math.floor(n/me),c=Math.floor((a-1)/me)+1;let f=e.slice(i,c).reduce(De,0);return n%me!==0&&(f-=t.slice(i*me,n).reduce(De,0)),a%me!==0&&a!==s&&(f-=t.slice(a,c*me).reduce(De,0)),f}const Po={virtualScrollSliceSize:{type:[Number,String],default:10},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},Vl={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Po};function $o({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const s=re(),{props:i,emit:c,proxy:f}=s,{$q:w}=f;let x,d,g,p=[],m;const R=O(0),H=O(0),q=O({}),Q=O(null),j=O(null),M=O(null),T=O({from:0,to:0}),U=v(()=>i.tableColspan!==void 0?i.tableColspan:100);a===void 0&&(a=v(()=>i.virtualScrollItemSize));const F=v(()=>a.value+";"+i.virtualScrollHorizontal),$=v(()=>F.value+";"+i.virtualScrollSliceRatioBefore+";"+i.virtualScrollSliceRatioAfter);J($,()=>{P()}),J(F,Y);function Y(){X(d,!0)}function y(u){X(u===void 0?d:u)}function b(u,o){const A=t();if(A==null||A.nodeType===8)return;const N=At(A,n(),Q.value,j.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd);g!==N.scrollViewSize&&P(N.scrollViewSize),r(A,N,Math.min(e.value-1,Math.max(0,parseInt(u,10)||0)),0,Lo.indexOf(o)!==-1?o:d!==-1&&u>d?"end":"start")}function B(){const u=t();if(u==null||u.nodeType===8)return;const o=At(u,n(),Q.value,j.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd),A=e.value-1,N=o.scrollMaxSize-o.offsetStart-o.offsetEnd-H.value;if(x===o.scrollStart)return;if(o.scrollMaxSize<=0){r(u,o,0,0);return}g!==o.scrollViewSize&&P(o.scrollViewSize),z(T.value.from);const Z=Math.floor(o.scrollMaxSize-Math.max(o.scrollViewSize,o.offsetEnd)-Math.min(m[A],o.scrollViewSize/2));if(Z>0&&Math.ceil(o.scrollStart)>=Z){r(u,o,A,o.scrollMaxSize-o.offsetEnd-p.reduce(De,0));return}let S=0,E=o.scrollStart-o.offsetStart,G=E;if(E<=N&&E+o.scrollViewSize>=R.value)E-=R.value,S=T.value.from,G=E;else for(let k=0;E>=p[k]&&S<A;k++)E-=p[k],S+=me;for(;E>0&&S<A;)E-=m[S],E>-o.scrollViewSize?(S++,G=E):G=m[S]+E;r(u,o,S,G)}function r(u,o,A,N,Z){const S=typeof Z=="string"&&Z.indexOf("-force")!==-1,E=S===!0?Z.replace("-force",""):Z,G=E!==void 0?E:"start";let k=Math.max(0,A-q.value[G]),le=k+q.value.total;le>e.value&&(le=e.value,k=Math.max(0,le-q.value.total)),x=o.scrollStart;const ge=k!==T.value.from||le!==T.value.to;if(ge===!1&&E===void 0){C(A);return}const{activeElement:Fe}=document,he=M.value;ge===!0&&he!==null&&he!==Fe&&he.contains(Fe)===!0&&(he.addEventListener("focusout",I),setTimeout(()=>{he!==null&&he.removeEventListener("focusout",I)})),Io(he,A-k);const tt=E!==void 0?m.slice(k,A).reduce(De,0):0;if(ge===!0){const qe=le>=T.value.from&&k<=T.value.to?T.value.to:le;T.value={from:k,to:qe},R.value=Ye(p,m,0,k),H.value=Ye(p,m,le,e.value),requestAnimationFrame(()=>{T.value.to!==le&&x===o.scrollStart&&(T.value={from:T.value.from,to:le},H.value=Ye(p,m,le,e.value))})}requestAnimationFrame(()=>{if(x!==o.scrollStart)return;ge===!0&&z(k);const qe=m.slice(k,A).reduce(De,0),Ve=qe+o.offsetStart+R.value,lt=Ve+m[A];let Ke=Ve+N;if(E!==void 0){const kt=qe-tt,Qe=o.scrollStart+kt;Ke=S!==!0&&Qe<Ve&&lt<Qe+o.scrollViewSize?Qe:E==="end"?lt-o.scrollViewSize:Ve-(E==="start"?0:Math.round((o.scrollViewSize-m[A])/2))}x=Ke,ql(u,Ke,i.virtualScrollHorizontal,w.lang.rtl),C(A)})}function z(u){const o=M.value;if(o){const A=on.call(o.children,k=>k.classList&&k.classList.contains("q-virtual-scroll--skip")===!1),N=A.length,Z=i.virtualScrollHorizontal===!0?k=>k.getBoundingClientRect().width:k=>k.offsetHeight;let S=u,E,G;for(let k=0;k<N;){for(E=Z(A[k]),k++;k<N&&A[k].classList.contains("q-virtual-scroll--with-prev")===!0;)E+=Z(A[k]),k++;G=E-m[S],G!==0&&(m[S]+=G,p[Math.floor(S/me)]+=G),S++}}}function I(){M.value!==null&&M.value!==void 0&&M.value.focus()}function X(u,o){const A=1*a.value;(o===!0||Array.isArray(m)===!1)&&(m=[]);const N=m.length;m.length=e.value;for(let S=e.value-1;S>=N;S--)m[S]=A;const Z=Math.floor((e.value-1)/me);p=[];for(let S=0;S<=Z;S++){let E=0;const G=Math.min((S+1)*me,e.value);for(let k=S*me;k<G;k++)E+=m[k];p.push(E)}d=-1,x=void 0,R.value=Ye(p,m,0,T.value.from),H.value=Ye(p,m,T.value.to,e.value),u>=0?(z(T.value.from),ue(()=>{b(u)})):L()}function P(u){if(u===void 0&&typeof window<"u"){const E=t();E!=null&&E.nodeType!==8&&(u=At(E,n(),Q.value,j.value,i.virtualScrollHorizontal,w.lang.rtl,i.virtualScrollStickySizeStart,i.virtualScrollStickySizeEnd).scrollViewSize)}g=u;const o=parseFloat(i.virtualScrollSliceRatioBefore)||0,A=parseFloat(i.virtualScrollSliceRatioAfter)||0,N=1+o+A,Z=u===void 0||u<=0?1:Math.ceil(u/a.value),S=Math.max(1,Z,Math.ceil((i.virtualScrollSliceSize>0?i.virtualScrollSliceSize:10)/N));q.value={total:Math.ceil(S*N),start:Math.ceil(S*o),center:Math.ceil(S*(.5+o)),end:Math.ceil(S*(1+o)),view:Z}}function D(u,o){const A=i.virtualScrollHorizontal===!0?"width":"height",N={["--q-virtual-scroll-item-"+A]:a.value+"px"};return[u==="tbody"?h(u,{class:"q-virtual-scroll__padding",key:"before",ref:Q},[h("tr",[h("td",{style:{[A]:`${R.value}px`,...N},colspan:U.value})])]):h(u,{class:"q-virtual-scroll__padding",key:"before",ref:Q,style:{[A]:`${R.value}px`,...N}}),h(u,{class:"q-virtual-scroll__content",key:"content",ref:M,tabindex:-1},o.flat()),u==="tbody"?h(u,{class:"q-virtual-scroll__padding",key:"after",ref:j},[h("tr",[h("td",{style:{[A]:`${H.value}px`,...N},colspan:U.value})])]):h(u,{class:"q-virtual-scroll__padding",key:"after",ref:j,style:{[A]:`${H.value}px`,...N}})]}function C(u){d!==u&&(i.onVirtualScroll!==void 0&&c("virtualScroll",{index:u,from:T.value.from,to:T.value.to-1,direction:u<d?"decrease":"increase",ref:f}),d=u)}P();const L=Rl(B,w.platform.is.ios===!0?120:35);Vn(()=>{P()});let K=!1;return zt(()=>{K=!0}),Lt(()=>{if(K!==!0)return;const u=t();x!==void 0&&u!==void 0&&u!==null&&u.nodeType!==8?ql(u,x,i.virtualScrollHorizontal,w.lang.rtl):b(d)}),ke(()=>{L.cancel()}),Object.assign(f,{scrollTo:b,reset:Y,refresh:y}),{virtualScrollSliceRange:T,virtualScrollSliceSizeComputed:q,setVirtualScrollSize:P,onVirtualScrollEvt:L,localResetVirtualScroll:X,padVirtualScroll:D,scrollTo:b,reset:Y,refresh:y}}function _l(e,t,n){if(n<=t)return t;const a=n-t+1;let s=t+(e-t)%a;return s<t&&(s=a+s),s===0?0:s}const Ml=e=>["add","add-unique","toggle"].includes(e),Ho=".*+?^${}()|[]\\",Do=Object.keys(wt);function Rt(e,t){if(typeof e=="function")return e;const n=e!==void 0?e:t;return a=>a!==null&&typeof a=="object"&&n in a?a[n]:a}const an=fe({name:"QSelect",inheritAttrs:!1,props:{...Vl,...Wl,...wt,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],popupNoRouteDismiss:Boolean,useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Ml},mapOptions:Boolean,emitValue:Boolean,disableTabSelection:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:{},transitionHide:{},transitionDuration:{},behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:Vl.virtualScrollItemSize.type,onNewValue:Function,onFilter:Function},emits:[...$t,"add","remove","inputValue","keyup","keypress","keydown","popupShow","popupHide","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:a}=re(),{$q:s}=a,i=O(!1),c=O(!1),f=O(-1),w=O(""),x=O(!1),d=O(!1);let g=null,p=null,m,R,H,q=null,Q,j,M,T;const U=O(null),F=O(null),$=O(null),Y=O(null),y=O(null),b=Zl(e),B=Yl(Gt),r=v(()=>Array.isArray(e.options)?e.options.length:0),z=v(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:I,virtualScrollSliceSizeComputed:X,localResetVirtualScroll:P,padVirtualScroll:D,onVirtualScrollEvt:C,scrollTo:L,setVirtualScrollSize:K}=$o({virtualScrollLength:r,getVirtualScrollTarget:cn,getVirtualScrollEl:Yt,virtualScrollItemSizeComputed:z}),u=Ht(),o=v(()=>{const l=e.mapOptions===!0&&e.multiple!==!0,V=e.modelValue!==void 0&&(e.modelValue!==null||l===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const _=e.mapOptions===!0&&m!==void 0?m:[],W=V.map(te=>sn(te,_));return e.modelValue===null&&l===!0?W.filter(te=>te!==null):W}return V}),A=v(()=>{const l={};return Do.forEach(V=>{const _=e[V];_!==void 0&&(l[V]=_)}),l}),N=v(()=>e.optionsDark===null?u.isDark.value:e.optionsDark),Z=v(()=>Je(o.value)),S=v(()=>{let l="q-field__input q-placeholder col";return e.hideSelected===!0||o.value.length===0?[l,e.inputClass]:(l+=" q-field__input--padding",e.inputClass===void 0?l:[l,e.inputClass])}),E=v(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),G=v(()=>r.value===0),k=v(()=>o.value.map(l=>se.value(l)).join(", ")),le=v(()=>e.displayValue!==void 0?e.displayValue:k.value),ge=v(()=>e.optionsHtml===!0?()=>!0:l=>l!=null&&l.html===!0),Fe=v(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||o.value.some(ge.value))),he=v(()=>u.focused.value===!0?e.tabindex:-1),tt=v(()=>{const l={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":i.value===!0?"true":"false","aria-controls":`${u.targetUid.value}_lb`};return f.value>=0&&(l["aria-activedescendant"]=`${u.targetUid.value}_${f.value}`),l}),qe=v(()=>({id:`${u.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),Ve=v(()=>o.value.map((l,V)=>({index:V,opt:l,html:ge.value(l),selected:!0,removeAtIndex:rn,toggleOption:_e,tabindex:he.value}))),lt=v(()=>{if(r.value===0)return[];const{from:l,to:V}=I.value;return e.options.slice(l,V).map((_,W)=>{const te=Oe.value(_)===!0,ee=xt(_)===!0,ae=l+W,ne={clickable:!0,active:ee,activeClass:Qe.value,manualFocus:!0,focused:!1,disable:te,tabindex:-1,dense:e.optionsDense,dark:N.value,role:"option","aria-selected":ee===!0?"true":"false",id:`${u.targetUid.value}_${ae}`,onClick:()=>{_e(_)}};return te!==!0&&(f.value===ae&&(ne.focused=!0),s.platform.is.desktop===!0&&(ne.onMousemove=()=>{i.value===!0&&ze(ae)})),{index:ae,opt:_,html:ge.value(_),label:se.value(_),selected:ne.active,focused:ne.focused,toggleOption:_e,setOptionIndex:ze,itemProps:ne}})}),Ke=v(()=>e.dropdownIcon!==void 0?e.dropdownIcon:s.iconSet.arrow.dropdown),kt=v(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),Qe=v(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),be=v(()=>Rt(e.optionValue,"value")),se=v(()=>Rt(e.optionLabel,"label")),Oe=v(()=>Rt(e.optionDisable,"disable")),nt=v(()=>o.value.map(be.value)),un=v(()=>{const l={onInput:Gt,onChange:B,onKeydown:Zt,onKeyup:Ut,onKeypress:Wt,onFocus:Kt,onClick(V){R===!0&&xe(V)}};return l.onCompositionstart=l.onCompositionupdate=l.onCompositionend=B,l});J(o,l=>{m=l,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&u.innerLoading.value!==!0&&(c.value!==!0&&i.value!==!0||Z.value!==!0)&&(H!==!0&&$e(),(c.value===!0||i.value===!0)&&Le(""))},{immediate:!0}),J(()=>e.fillInput,$e),J(i,pt),J(r,Cn);function Nt(l){return e.emitValue===!0?be.value(l):l}function Ct(l){if(l!==-1&&l<o.value.length)if(e.multiple===!0){const V=e.modelValue.slice();n("remove",{index:l,value:V.splice(l,1)[0]}),n("update:modelValue",V)}else n("update:modelValue",null)}function rn(l){Ct(l),u.focus()}function jt(l,V){const _=Nt(l);if(e.multiple!==!0){e.fillInput===!0&&Ue(se.value(l),!0,!0),n("update:modelValue",_);return}if(o.value.length===0){n("add",{index:0,value:_}),n("update:modelValue",e.multiple===!0?[_]:_);return}if(V===!0&&xt(l)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const W=e.modelValue.slice();n("add",{index:W.length,value:_}),W.push(_),n("update:modelValue",W)}function _e(l,V){if(u.editable.value!==!0||l===void 0||Oe.value(l)===!0)return;const _=be.value(l);if(e.multiple!==!0){V!==!0&&(Ue(e.fillInput===!0?se.value(l):"",!0,!0),Me()),F.value!==null&&F.value.focus(),(o.value.length===0||We(be.value(o.value[0]),_)!==!0)&&n("update:modelValue",e.emitValue===!0?_:l);return}if((R!==!0||x.value===!0)&&u.focus(),Kt(),o.value.length===0){const ee=e.emitValue===!0?_:l;n("add",{index:0,value:ee}),n("update:modelValue",e.multiple===!0?[ee]:ee);return}const W=e.modelValue.slice(),te=nt.value.findIndex(ee=>We(ee,_));if(te!==-1)n("remove",{index:te,value:W.splice(te,1)[0]});else{if(e.maxValues!==void 0&&W.length>=e.maxValues)return;const ee=e.emitValue===!0?_:l;n("add",{index:W.length,value:ee}),W.push(ee)}n("update:modelValue",W)}function ze(l){if(s.platform.is.desktop!==!0)return;const V=l!==-1&&l<r.value?l:-1;f.value!==V&&(f.value=V)}function ot(l=1,V){if(i.value===!0){let _=f.value;do _=_l(_+l,-1,r.value-1);while(_!==-1&&_!==f.value&&Oe.value(e.options[_])===!0);f.value!==_&&(ze(_),L(_),V!==!0&&e.useInput===!0&&e.fillInput===!0&&at(_>=0?se.value(e.options[_]):Q,!0))}}function sn(l,V){const _=W=>We(be.value(W),l);return e.options.find(_)||V.find(_)||l}function xt(l){const V=be.value(l);return nt.value.find(_=>We(_,V))!==void 0}function Kt(l){e.useInput===!0&&F.value!==null&&(l===void 0||F.value===l.target&&l.target.value===k.value)&&F.value.select()}function Qt(l){It(l,27)===!0&&i.value===!0&&(xe(l),Me(),$e()),n("keyup",l)}function Ut(l){const{value:V}=l.target;if(l.keyCode!==void 0){Qt(l);return}if(l.target.value="",g!==null&&(clearTimeout(g),g=null),p!==null&&(clearTimeout(p),p=null),$e(),typeof V=="string"&&V.length!==0){const _=V.toLocaleLowerCase(),W=ee=>{const ae=e.options.find(ne=>String(ee.value(ne)).toLocaleLowerCase()===_);return ae===void 0?!1:(o.value.indexOf(ae)===-1?_e(ae):Me(),!0)},te=ee=>{W(be)!==!0&&ee!==!0&&W(se)!==!0&&Le(V,!0,()=>te(!0))};te()}else u.clearValue(l)}function Wt(l){n("keypress",l)}function Zt(l){if(n("keydown",l),Fl(l)===!0)return;const V=w.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),_=l.shiftKey!==!0&&e.disableTabSelection!==!0&&e.multiple!==!0&&(f.value!==-1||V===!0);if(l.keyCode===27){pe(l);return}if(l.keyCode===9&&_===!1){Ie();return}if(l.target===void 0||l.target.id!==u.targetUid.value||u.editable.value!==!0)return;if(l.keyCode===40&&u.innerLoading.value!==!0&&i.value===!1){ce(l),Pe();return}if(l.keyCode===8&&(e.useChips===!0||e.clearable===!0)&&e.hideSelected!==!0&&w.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?Ct(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(l.keyCode===35||l.keyCode===36)&&(typeof w.value!="string"||w.value.length===0)&&(ce(l),f.value=-1,ot(l.keyCode===36?1:-1,e.multiple)),(l.keyCode===33||l.keyCode===34)&&X.value!==void 0&&(ce(l),f.value=Math.max(-1,Math.min(r.value,f.value+(l.keyCode===33?-1:1)*X.value.view)),ot(l.keyCode===33?1:-1,e.multiple)),(l.keyCode===38||l.keyCode===40)&&(ce(l),ot(l.keyCode===38?-1:1,e.multiple));const W=r.value;if((M===void 0||T<Date.now())&&(M=""),W>0&&e.useInput!==!0&&l.key!==void 0&&l.key.length===1&&l.altKey===!1&&l.ctrlKey===!1&&l.metaKey===!1&&(l.keyCode!==32||M.length!==0)){i.value!==!0&&Pe(l);const te=l.key.toLocaleLowerCase(),ee=M.length===1&&M[0]===te;T=Date.now()+1500,ee===!1&&(ce(l),M+=te);const ae=new RegExp("^"+M.split("").map(qt=>Ho.indexOf(qt)!==-1?"\\"+qt:qt).join(".*"),"i");let ne=f.value;if(ee===!0||ne<0||ae.test(se.value(e.options[ne]))!==!0)do ne=_l(ne+1,-1,W-1);while(ne!==f.value&&(Oe.value(e.options[ne])===!0||ae.test(se.value(e.options[ne]))!==!0));f.value!==ne&&ue(()=>{ze(ne),L(ne),ne>=0&&e.useInput===!0&&e.fillInput===!0&&at(se.value(e.options[ne]),!0)});return}if(!(l.keyCode!==13&&(l.keyCode!==32||e.useInput===!0||M!=="")&&(l.keyCode!==9||_===!1))){if(l.keyCode!==9&&ce(l),f.value!==-1&&f.value<W){_e(e.options[f.value]);return}if(V===!0){const te=(ee,ae)=>{if(ae){if(Ml(ae)!==!0)return}else ae=e.newValueMode;if(Ue("",e.multiple!==!0,!0),ee==null)return;(ae==="toggle"?_e:jt)(ee,ae==="add-unique"),e.multiple!==!0&&(F.value!==null&&F.value.focus(),Me())};if(e.onNewValue!==void 0?n("newValue",w.value,te):te(w.value),e.multiple!==!0)return}i.value===!0?Ie():u.innerLoading.value!==!0&&Pe()}}function Yt(){return R===!0?y.value:$.value!==null&&$.value.contentEl!==null?$.value.contentEl:void 0}function cn(){return Yt()}function dn(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?Ve.value.map(l=>t["selected-item"](l)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?Ve.value.map((l,V)=>h(Xl,{key:"option-"+V,removable:u.editable.value===!0&&Oe.value(l.opt)!==!0,dense:!0,textColor:e.color,tabindex:he.value,onRemove(){l.removeAtIndex(V)}},()=>h("span",{class:"ellipsis",[l.html===!0?"innerHTML":"textContent"]:se.value(l.opt)}))):[h("span",{[Fe.value===!0?"innerHTML":"textContent"]:le.value})]}function Xt(){if(G.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:w.value}):void 0;const l=t.option!==void 0?t.option:_=>h(Gl,{key:_.index,..._.itemProps},()=>h(qo,()=>h(Jl,()=>h("span",{[_.html===!0?"innerHTML":"textContent"]:_.label}))));let V=D("div",lt.value.map(l));return t["before-options"]!==void 0&&(V=t["before-options"]().concat(V)),Ln(t["after-options"],V)}function fn(l,V){const _=V===!0?{...tt.value,...u.splitAttrs.attributes.value}:void 0,W={ref:V===!0?F:void 0,key:"i_t",class:S.value,style:e.inputStyle,value:w.value!==void 0?w.value:"",type:"search",..._,id:V===!0?u.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":l===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...un.value};return l!==!0&&R===!0&&(Array.isArray(W.class)===!0?W.class=[...W.class,"no-pointer-events"]:W.class+=" no-pointer-events"),h("input",W)}function Gt(l){g!==null&&(clearTimeout(g),g=null),p!==null&&(clearTimeout(p),p=null),!(l&&l.target&&l.target.qComposing===!0)&&(at(l.target.value||""),H=!0,Q=w.value,u.focused.value!==!0&&(R!==!0||x.value===!0)&&u.focus(),e.onFilter!==void 0&&(g=setTimeout(()=>{g=null,Le(w.value)},e.inputDebounce)))}function at(l,V){w.value!==l&&(w.value=l,V===!0||e.inputDebounce===0||e.inputDebounce==="0"?n("inputValue",l):p=setTimeout(()=>{p=null,n("inputValue",l)},e.inputDebounce))}function Ue(l,V,_){H=_!==!0,e.useInput===!0&&(at(l,!0),(V===!0||_!==!0)&&(Q=l),V!==!0&&Le(l))}function Le(l,V,_){if(e.onFilter===void 0||V!==!0&&u.focused.value!==!0)return;u.innerLoading.value===!0?n("filterAbort"):(u.innerLoading.value=!0,d.value=!0),l!==""&&e.multiple!==!0&&o.value.length!==0&&H!==!0&&l===se.value(o.value[0])&&(l="");const W=setTimeout(()=>{i.value===!0&&(i.value=!1)},10);q!==null&&clearTimeout(q),q=W,n("filter",l,(te,ee)=>{(V===!0||u.focused.value===!0)&&q===W&&(clearTimeout(q),typeof te=="function"&&te(),d.value=!1,ue(()=>{u.innerLoading.value=!1,u.editable.value===!0&&(V===!0?i.value===!0&&Me():i.value===!0?pt(!0):i.value=!0),typeof ee=="function"&&ue(()=>{ee(a)}),typeof _=="function"&&ue(()=>{_(a)})}))},()=>{u.focused.value===!0&&q===W&&(clearTimeout(q),u.innerLoading.value=!1,d.value=!1),i.value===!0&&(i.value=!1)})}function vn(){return h(Eo,{ref:$,class:E.value,style:e.popupContentStyle,modelValue:i.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&G.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:N.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,noRouteDismiss:e.popupNoRouteDismiss,square:kt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...qe.value,onScrollPassive:C,onBeforeShow:el,onBeforeHide:mn,onShow:gn},Xt)}function mn(l){tl(l),Ie()}function gn(){K()}function hn(l){xe(l),F.value!==null&&F.value.focus(),x.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function bn(l){xe(l),ue(()=>{x.value=!1})}function yn(){const l=[h(xo,{class:`col-auto ${u.fieldClass.value}`,...A.value,for:u.targetUid.value,dark:N.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:w.value.length!==0,...u.splitAttrs.listeners.value,onFocus:hn,onBlur:bn},{...t,rawControl:()=>u.getControl(!0),before:void 0,after:void 0})];return i.value===!0&&l.push(h("div",{ref:y,class:E.value+" scroll",style:e.popupContentStyle,...qe.value,onClick:pe,onScrollPassive:C},Xt())),h(zo,{ref:Y,modelValue:c.value,position:e.useInput===!0?"top":void 0,transitionShow:j,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,noRouteDismiss:e.popupNoRouteDismiss,onBeforeShow:el,onBeforeHide:Sn,onHide:wn,onShow:kn},()=>h("div",{class:"q-select__dialog"+(N.value===!0?" q-select__dialog--dark q-dark":"")+(x.value===!0?" q-select__dialog--focused":"")},l))}function Sn(l){tl(l),Y.value!==null&&Y.value.__updateRefocusTarget(u.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),u.focused.value=!1}function wn(l){Me(),u.focused.value===!1&&n("blur",l),$e()}function kn(){const l=document.activeElement;(l===null||l.id!==u.targetUid.value)&&F.value!==null&&F.value!==l&&F.value.focus(),K()}function Ie(){c.value!==!0&&(f.value=-1,i.value===!0&&(i.value=!1),u.focused.value===!1&&(q!==null&&(clearTimeout(q),q=null),u.innerLoading.value===!0&&(n("filterAbort"),u.innerLoading.value=!1,d.value=!1)))}function Pe(l){u.editable.value===!0&&(R===!0?(u.onControlFocusin(l),c.value=!0,ue(()=>{u.focus()})):u.focus(),e.onFilter!==void 0?Le(w.value):(G.value!==!0||t["no-option"]!==void 0)&&(i.value=!0))}function Me(){c.value=!1,Ie()}function $e(){e.useInput===!0&&Ue(e.multiple!==!0&&e.fillInput===!0&&o.value.length!==0&&se.value(o.value[0])||"",!0,!0)}function pt(l){let V=-1;if(l===!0){if(o.value.length!==0){const _=be.value(o.value[0]);V=e.options.findIndex(W=>We(be.value(W),_))}P(V)}ze(V)}function Cn(l,V){i.value===!0&&u.innerLoading.value===!1&&(P(-1,!0),ue(()=>{i.value===!0&&u.innerLoading.value===!1&&(l>V?P():pt(!0))}))}function Jt(){c.value===!1&&$.value!==null&&$.value.updatePosition()}function el(l){l!==void 0&&xe(l),n("popupShow",l),u.hasPopupOpen=!0,u.onControlFocusin(l)}function tl(l){l!==void 0&&xe(l),n("popupHide",l),u.hasPopupOpen=!1,u.onControlFocusout(l)}function ll(){R=s.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||G.value===!1:!0),j=s.platform.is.ios===!0&&R===!0&&e.useInput===!0?"fade":e.transitionShow}return Bl(ll),Mn(Jt),ll(),ke(()=>{g!==null&&clearTimeout(g),p!==null&&clearTimeout(p)}),Object.assign(a,{showPopup:Pe,hidePopup:Me,removeAtIndex:Ct,add:jt,toggleOption:_e,getOptionIndex:()=>f.value,setOptionIndex:ze,moveOptionSelection:ot,filter:Le,updateMenuPosition:Jt,updateInputValue:Ue,isOptionSelected:xt,getEmittingOptionValue:Nt,isOptionDisabled:(...l)=>Oe.value.apply(null,l)===!0,getOptionValue:(...l)=>be.value.apply(null,l),getOptionLabel:(...l)=>se.value.apply(null,l)}),Object.assign(u,{innerValue:o,fieldClass:v(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:U,targetRef:F,hasValue:Z,showPopup:Pe,floatingLabel:v(()=>e.hideSelected!==!0&&Z.value===!0||typeof w.value=="number"||w.value.length!==0||Je(e.displayValue)),getControlChild:()=>{if(u.editable.value!==!1&&(c.value===!0||G.value!==!0||t["no-option"]!==void 0))return R===!0?yn():vn();u.hasPopupOpen===!0&&(u.hasPopupOpen=!1)},controlEvents:{onFocusin(l){u.onControlFocusin(l)},onFocusout(l){u.onControlFocusout(l,()=>{$e(),Ie()})},onClick(l){if(pe(l),R!==!0&&i.value===!0){Ie(),F.value!==null&&F.value.focus();return}Pe(l)}},getControl:l=>{const V=dn(),_=l===!0||c.value!==!0||R!==!0;if(e.useInput===!0)V.push(fn(l,_));else if(u.editable.value===!0){const te=_===!0?tt.value:void 0;V.push(h("input",{ref:_===!0?F:void 0,key:"d_t",class:"q-select__focus-target",id:_===!0?u.targetUid.value:void 0,value:le.value,readonly:!0,"data-autofocus":l===!0||e.autofocus===!0||void 0,...te,onKeydown:Zt,onKeyup:Qt,onKeypress:Wt})),_===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&V.push(h("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Ut}))}if(b.value!==void 0&&e.disable!==!0&&nt.value.length!==0){const te=nt.value.map(ee=>h("option",{value:ee,selected:!0}));V.push(h("select",{class:"hidden",name:b.value,multiple:e.multiple},te))}const W=e.useInput===!0||_!==!0?void 0:u.splitAttrs.attributes.value;return h("div",{class:"q-field__native row items-center",...W,...u.splitAttrs.listeners.value},V)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[h(Ae,{class:"q-select__dropdown-icon"+(i.value===!0?" rotate-180":""),name:Ke.value})]:null}),Dt(u)}}),No=fe({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const a=re(),s=O(null);let i=0;const c=[];function f(m){const R=typeof m=="boolean"?m:e.noErrorFocus!==!0,H=++i,q=(M,T)=>{n(`validation${M===!0?"Success":"Error"}`,T)},Q=M=>{const T=M.validate();return typeof T.then=="function"?T.then(U=>({valid:U,comp:M}),U=>({valid:!1,comp:M,err:U})):Promise.resolve({valid:T,comp:M})};return(e.greedy===!0?Promise.all(c.map(Q)).then(M=>M.filter(T=>T.valid!==!0)):c.reduce((M,T)=>M.then(()=>Q(T).then(U=>{if(U.valid===!1)return Promise.reject(U)})),Promise.resolve()).catch(M=>[M])).then(M=>{if(M===void 0||M.length===0)return H===i&&q(!0),!0;if(H===i){const{comp:T,err:U}=M[0];if(U!==void 0&&console.error(U),q(!1,T),R===!0){const F=M.find(({comp:$})=>typeof $.focus=="function"&&dt($.$)===!1);F!==void 0&&F.comp.focus()}}return!1})}function w(){i++,c.forEach(m=>{typeof m.resetValidation=="function"&&m.resetValidation()})}function x(m){m!==void 0&&ce(m);const R=i+1;f().then(H=>{R===i&&H===!0&&(e.onSubmit!==void 0?n("submit",m):m!==void 0&&m.target!==void 0&&typeof m.target.submit=="function"&&m.target.submit())})}function d(m){m!==void 0&&ce(m),n("reset"),ue(()=>{w(),e.autofocus===!0&&e.noResetFocus!==!0&&g()})}function g(){et(()=>{if(s.value===null)return;const m=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),R=>R.tabIndex!==-1);m?.focus({preventScroll:!0})})}En(Al,{bindComponent(m){c.push(m)},unbindComponent(m){const R=c.indexOf(m);R!==-1&&c.splice(R,1)}});let p=!1;return zt(()=>{p=!0}),Lt(()=>{p===!0&&e.autofocus===!0&&g()}),je(()=>{e.autofocus===!0&&g()}),Object.assign(a.proxy,{validate:f,resetValidation:w,submit:x,reset:d,focus:g,getValidationComponents:()=>c}),()=>h("form",{class:"q-form",ref:s,onSubmit:x,onReset:d},Se(t.default))}}),jo=fe({name:"QChatMessage",props:{sent:Boolean,label:String,bgColor:String,textColor:String,name:String,avatar:String,text:Array,stamp:String,size:String,labelHtml:Boolean,nameHtml:Boolean,textHtml:Boolean,stampHtml:Boolean},setup(e,{slots:t}){const n=v(()=>e.sent===!0?"sent":"received"),a=v(()=>`q-message-text-content q-message-text-content--${n.value}`+(e.textColor!==void 0?` text-${e.textColor}`:"")),s=v(()=>`q-message-text q-message-text--${n.value}`+(e.bgColor!==void 0?` text-${e.bgColor}`:"")),i=v(()=>"q-message-container row items-end no-wrap"+(e.sent===!0?" reverse":"")),c=v(()=>e.size!==void 0?`col-${e.size}`:""),f=v(()=>({msg:e.textHtml===!0?"innerHTML":"textContent",stamp:e.stampHtml===!0?"innerHTML":"textContent",name:e.nameHtml===!0?"innerHTML":"textContent",label:e.labelHtml===!0?"innerHTML":"textContent"}));function w(d){return t.stamp!==void 0?[d,h("div",{class:"q-message-stamp"},t.stamp())]:e.stamp?[d,h("div",{class:"q-message-stamp",[f.value.stamp]:e.stamp})]:[d]}function x(d,g){const p=g===!0?d.length>1?m=>m:m=>h("div",[m]):m=>h("div",{[f.value.msg]:m});return d.map((m,R)=>h("div",{key:R,class:s.value},[h("div",{class:a.value},w(p(m)))]))}return()=>{const d=[];t.avatar!==void 0?d.push(t.avatar()):e.avatar!==void 0&&d.push(h("img",{class:`q-message-avatar q-message-avatar--${n.value}`,src:e.avatar,"aria-hidden":"true"}));const g=[];t.name!==void 0?g.push(h("div",{class:`q-message-name q-message-name--${n.value}`},t.name())):e.name!==void 0&&g.push(h("div",{class:`q-message-name q-message-name--${n.value}`,[f.value.name]:e.name})),t.default!==void 0?g.push(x(In(t.default()),!0)):e.text!==void 0&&g.push(x(e.text)),d.push(h("div",{class:c.value},g));const p=[];return t.label!==void 0?p.push(h("div",{class:"q-message-label"},t.label())):e.label!==void 0&&p.push(h("div",{class:"q-message-label",[f.value.label]:e.label})),p.push(h("div",{class:i.value},d)),h("div",{class:`q-message q-message-${n.value}`},p)}}}),Ko=function(){const e=Un(),t=new Kl,n=O(!1),a=O(1),s=O({keyword:"",hashtag:"",likeCount:100,userId:""}),i=O({tweets:[],totalCount:0});return{isLoading:n,page:a,condition:s,dataState:i,search:async function(){n.value=!0,await t.searchFanart(s.value,a.value).then(f=>{f&&(console.log("search response",f),a.value<=1&&i.value.tweets.splice(0),f.records.forEach(w=>i.value.tweets.push(w)),i.value.totalCount=f.totalCount)}).catch(f=>{console.log("search err",f),e.notify({position:"top",color:"negative",message:"検索でエラーになった..."})}),n.value=!1}}},Qo={ratio:[String,Number]};function Uo(e,t){return v(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const Wo=1.7778,Zo=fe({name:"QImg",props:{...Qo,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Wo},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=O(e.initialRatio),s=Uo(e,a),i=re(),{registerTimeout:c,removeTimeout:f}=mt(),{registerTimeout:w,removeTimeout:x}=mt(),d=v(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),g=v(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),p=[O(null),O(d.value)],m=O(0),R=O(!1),H=O(!1),q=v(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),Q=v(()=>({width:e.width,height:e.height})),j=v(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),M=v(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function T(){if(x(),e.loadingShowDelay===0){R.value=!0;return}w(()=>{R.value=!0},e.loadingShowDelay)}function U(){x(),R.value=!1}function F({target:r}){dt(i)===!1&&(f(),a.value=r.naturalHeight===0?.5:r.naturalWidth/r.naturalHeight,$(r,1))}function $(r,z){z===1e3||dt(i)===!0||(r.complete===!0?Y(r):c(()=>{$(r,z+1)},50))}function Y(r){dt(i)!==!0&&(m.value=m.value^1,p[m.value].value=null,U(),r.getAttribute("__qerror")!=="true"&&(H.value=!1),n("load",r.currentSrc||r.src))}function y(r){f(),U(),H.value=!0,p[m.value].value=g.value,p[m.value^1].value=d.value,n("error",r)}function b(r){const z=p[r].value,I={key:"img_"+r,class:j.value,style:M.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...z};return m.value===r?Object.assign(I,{class:I.class+"current",onLoad:F,onError:y}):I.class+="loaded",h("div",{class:"q-img__container absolute-full",key:"img"+r},h("img",I))}function B(){return R.value===!1?h("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Se(t[H.value===!0?"error":"default"])):h("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[h(Pt,{color:e.spinnerColor,size:e.spinnerSize})])}{let r=function(){J(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,z=>{f(),H.value=!1,z===null?(U(),p[m.value^1].value=d.value):T(),p[m.value].value=z},{immediate:!0})};El.value===!0?je(r):r()}return()=>{const r=[];return s.value!==null&&r.push(h("div",{key:"filler",style:s.value})),p[0].value!==null&&r.push(b(0)),p[1].value!==null&&r.push(b(1)),r.push(h(Ge,{name:"q-transition--fade"},B)),h("div",{key:"main",class:q.value,style:Q.value,role:"img","aria-label":e.alt},r)}}}),Yo=Ol({name:"holo-hashtag-select",props:{modelValue:{type:String,required:!0},label:{type:String,required:!1,default:"hashtag"}},setup(e,{emit:t}){const n=O([]),a=new Kl,s=async function(){n.value.splice(0),await a.tags().then(c=>{c&&(console.log("holo-name",c),c.forEach(f=>n.value.push(f)))}).catch(c=>{console.log("err",c)})};J(n,c=>{c.filter(f=>f.hashtag==e.modelValue).length==0&&(i.value="")}),s();const i=O(e.modelValue.replace("#",""));return J(i,c=>{t("update:modelValue",c.replace("#",""))}),{selectedValue:i,selectLabel:O(e.label),selectOptions:n}}}),Xo={class:"row q-gutter-xs"},Go=["src"];function Jo(e,t,n,a,s,i){return ye(),He("div",Xo,[de(an,{modelValue:e.selectedValue,"onUpdate:modelValue":t[1]||(t[1]=c=>e.selectedValue=c),options:e.selectOptions,"option-value":"hashtag","option-label":"hashtag","emit-value":"","map-options":"",dense:"","stack-label":"",label:e.selectLabel,"transition-show":"jump-up","transition-hide":"jump-up",style:{"min-width":"220px"}},{append:ve(()=>[e.selectedValue!=""?(ye(),ft(Ae,{key:0,id:"holo-select-clear-icon",name:"clear",onClick:t[0]||(t[0]=zl(c=>e.selectedValue="",["stop","prevent"]))})):vt("",!0)]),option:ve(c=>[de(Gl,Bn(c.itemProps,{class:"holo-name-item-selected"}),{default:ve(()=>[de(cl,null,{default:ve(()=>[Ce("img",{src:c.opt.url},null,8,Go)]),_:2},1024),de(Jl,{class:"holo-select-text-container text-bold"},{default:ve(()=>[ol(Tt(c.opt.hashtag),1)]),_:2},1024)]),_:2},1040)]),selected:ve(()=>[e.selectedValue!=""?(ye(),ft(Xl,{key:0,dense:"",square:"",color:"white",class:"q-my-none q-ml-xs q-mr-none"},{default:ve(()=>[de(cl,{"text-color":"white"},{default:ve(()=>[de(Zo,{src:e.selectOptions.find(c=>c.hashtag==e.selectedValue)?.url},null,8,["src"])]),_:1}),ol(" "+Tt(e.selectedValue),1)]),_:1})):vt("",!0)]),_:1},8,["modelValue","options","label"])])}const ea=Ql(Yo,[["render",Jo]]),ta=Ol({name:"twitter-search-page",components:{FanartTagSelect:ea},setup(){const{isLoading:e,page:t,condition:n,dataState:a,search:s}=Ko(),i=function(){t.value=1,s()},c=function(){s()},f=function(){t.value+=t.value,s()},w=()=>{window.innerHeight+window.scrollY>=document.documentElement.offsetHeight-200&&!e.value&&a.value.totalCount>t.value&&f()};return function(){window.addEventListener("scroll",w),s()}(),{isLoading:e,page:t,condition:n,dataState:a,onSearchClick:i,onPageClick:c}}}),la={class:"search-form"},na={class:"search-input"},oa={class:"search-input"},aa={class:"search-input"},ia={class:"search-input search-btn"},ua={style:{"font-size":"15px","line-height":"1.5"}},ra=["src"];function sa(e,t,n,a,s,i){const c=An("fanart-tag-select");return ye(),ft(Wn,{class:""},{default:ve(()=>[de(No,{onSubmit:zl(e.onSearchClick,["prevent"]),style:{"margin-bottom":"32px"}},{default:ve(()=>[Ce("div",la,[Ce("div",na,[de(Co,{modelValue:e.condition.keyword,"onUpdate:modelValue":t[0]||(t[0]=f=>e.condition.keyword=f),label:"キーワード",dense:""},null,8,["modelValue"])]),Ce("div",oa,[de(c,{modelValue:e.condition.hashtag,"onUpdate:modelValue":t[1]||(t[1]=f=>e.condition.hashtag=f)},null,8,["modelValue"])]),Ce("div",aa,[de(an,{modelValue:e.condition.likeCount,"onUpdate:modelValue":t[2]||(t[2]=f=>e.condition.likeCount=f),options:[100,1e3,5e3,1e4,2e4,5e4],label:"♡",dense:""},null,8,["modelValue"])]),Ce("div",ia,[de(Gn,{label:"検索",icon:"search",color:"primary",loading:e.isLoading,type:"submit"},null,8,["loading"])])])]),_:1},8,["onSubmit"]),Ce("div",null,[(ye(!0),He(al,null,il(e.dataState.tweets,f=>(ye(),He("div",{key:f.tweet.id,style:{"margin-bottom":"60px"}},[de(jo,{name:f.user.userName,avatar:f.user.userImage,style:{"max-width":"800px"},"bg-color":"light-blue-1"},{default:ve(()=>[Ce("div",ua,Tt(f.tweet.tweetText),1)]),_:2},1032,["name","avatar"]),(ye(!0),He(al,null,il(f.media,w=>(ye(),He("div",{key:w.mediaUrl},[w.mediaType=="image"?(ye(),He("img",{key:0,src:w.mediaUrl,class:"tweet-img"},null,8,ra)):vt("",!0)]))),128))]))),128))]),e.isLoading?(ye(),ft(Pt,{key:0,size:"md",color:"primary"})):vt("",!0)]),_:1})}const ha=Ql(ta,[["render",sa]]);export{ha as default};
